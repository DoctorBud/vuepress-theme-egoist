{"version":3,"sources":["webpack:///source/_posts/kill-gulp-with-npm-scripts-and-nswatch.md","webpack:///./source/_posts/kill-gulp-with-npm-scripts-and-nswatch.md?14fe","webpack:///./source/_posts/kill-gulp-with-npm-scripts-and-nswatch.md","webpack:///./source/_posts/kill-gulp-with-npm-scripts-and-nswatch.md?40eb"],"names":[],"mappings":"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","file":"assets/js/33.931738c4.js","sourcesContent":["<template>\n<div class=\"content\"><h2 id=\"为什么用-npm-scripts\"><a class=\"header-anchor\" href=\"#为什么用-npm-scripts\" aria-hidden=\"true\">#</a> <span>为什么用 npm scripts ?</span></h2>\n<p>首先我觉得  <a href=\"https://medium.freecodecamp.com/why-i-left-gulp-and-grunt-for-npm-scripts-3d6853dd22b8#.8wsejnq0u\" target=\"_blank\" rel=\"noopener noreferrer\">Why I Left Gulp and Grunt for npm Scripts<OutboundLink/></a> 里说的不用 gulp 的理由基本没有道理:</p>\n<ol>\n<li>gulp 插件质量、数量和实时性</li>\n</ol>\n<p>作者抱怨 gulp 插件的质量取决于插件作者，这可以理解，<strong>但是 npm 的包同样取决于作者啊</strong>。</p>\n<p>作者抱怨 gulp 插件的数量不如 npm，<strong>这不是废话吗</strong>。</p>\n<p>作者抱怨 gulp 插件不能及时更新，比如 babel 6 升级了 gulp-babel 并没有立刻升级。<strong>又不是看直播，干嘛实时?</strong></p>\n<ol start=\"2\">\n<li>debug 很痛苦，gulp crash 掉是因为某个插件吗还是因为版本问题</li>\n</ol>\n<p>额，难道直接用 npm package 就没有这些问题吗。</p>\n<ol start=\"3\">\n<li>不连贯的文档，比如 gulp-eslint 和 eslint，eslint 的文档就是 gulp 插件的文档好得多</li>\n</ol>\n<p>这不又是废话吗，写个插件还要把用的包的文档重新写一遍?</p>\n<hr>\n<p>好了，原文挑剔 gulp 的理由全被扳倒了，但是其中支持 npm 的理由倒是挺有道理:</p>\n<ol>\n<li>npm scripts 并不需要你很擅长命令行操作</li>\n</ol>\n<p>你并不需要在 npm scripts 里用一些很高深的命令行，很多 unix 命令是需要花很长时间学习的。像类似 rm -rf 之类的命令很容易掌握，而且也有相应的 npm 包 <a href=\"https://github.com/isaacs/rimraf\" target=\"_blank\" rel=\"noopener noreferrer\">rimraf<OutboundLink/></a> 让你使用，且跨平台支持。</p>\n<ol start=\"2\">\n<li>npm scripts 不够强大吗?</li>\n</ol>\n<!--beforebegin--><div class=\"language-JSON extra-class\"><!--afterbegin--><pre v-pre class=\"language-json\"><code><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"clean\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"rimraf ./dist &amp;&amp; mkdir dist\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"prebuild\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"npm run clean\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"build\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"cross-env NODE_ENV=production webpack\"</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<!--beforeend--></div><!--afterend--><p>npm scripts 甚至支持 <code>pre</code> <code>post</code> 这些 hook 让你在相应的一个 task 之前和之后调用。</p>\n<p>你可以直接执行一个文件来完成相应的构建工作，这让你几乎能做任何 gulp 能做的事:</p>\n<!--beforebegin--><div class=\"language-JSON extra-class\"><!--afterbegin--><pre v-pre class=\"language-json\"><code><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"build\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"node build.js\"</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<!--beforeend--></div><!--afterend--><ol start=\"3\">\n<li>npm scripts 不是跨平台的</li>\n</ol>\n<p>因为你可能会在 npm scripts 里用一些 unix 命令，解决方案有很多，比如用 npm 包替代这些命令。</p>\n<ol start=\"4\">\n<li>可维护性</li>\n</ol>\n<p>gulp tasks 也多了以后会变得很难维护，npm scripts 也是。解决方案是推荐写精简的 script，比如一个 script 只干一件事。或者很长很复杂的话你就需要专门放到一个 JS 文件里然后再在 npm scripts 里调用了。</p>\n<h2 id=\"nswatch\"><a class=\"header-anchor\" href=\"#nswatch\" aria-hidden=\"true\">#</a> <span>nswatch</span></h2>\n<blockquote>\n<p>https://github.com/egoist/nswatch</p>\n</blockquote>\n<p>在 npm scripts 里只执行一个构建任务你可能不需要类似 <code>gulp.watch</code> 这样的功能，因为大部分构建工具都自带了 watch 功能，比如 <code>webpack --watch</code> 和 <code>rollup --watch</code>，但是排除这种情况在构建多个任务的时候就不方便了。</p>\n<p>比如你要同时用一些 <code>.jade</code> <code>.css</code> <code>.js</code> 这些文件分别编译成 <code>.html</code> <code>.css</code> <code>.js</code> 文件，开发的时候怎么搞啊，怎么 watch 这些文件然后执行 rebuild 呢？好吧，你又想到了 <code>gulp</code> 😂</p>\n<p>不过现在有 <code>nswatch</code> 了，为了解决类似的需求我今早洗澡之后写的。和 <code>gulp.watch</code> 类似，监听一些文件，不过这里是执行相应的 npm script。</p>\n<p>你的 npm scripts:</p>\n<!--beforebegin--><div class=\"language-JSON extra-class\"><!--afterbegin--><pre v-pre class=\"language-json\"><code><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"build:js\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"node scripts/build js\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"build:html\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"node script/build html\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"build:css\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"node scripts/build css\"</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<!--beforeend--></div><!--afterend--><p>然后你可以在 <code>scripts/build.js</code> 里用你喜欢的 npm 包，比如 rollup, jade, postcss，来编译相应文件。</p>\n<p>最后添加 <code>nswatch</code>:</p>\n<!--beforebegin--><div class=\"language-JSON extra-class\"><!--afterbegin--><pre v-pre class=\"language-json\"><code><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"watch\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"nswatch src/*.js --script build:js &amp; nswatch src/*.css --script build:css  &amp; nswatch src/*.jade --script build:html \"</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<!--beforeend--></div><!--afterend--><p>由于有三个任务所以写得很长，你可以把它放进单独文件 <code>scripts/watch.js</code>:</p>\n<!--beforebegin--><div class=\"language-JavaScript extra-class\"><!--afterbegin--><pre v-pre class=\"language-javascript\"><code><span class=\"token keyword\">const</span> watch <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'nswatch'</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token function\">watch</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./src/*.js'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'build:js'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n<span class=\"token function\">watch</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./src/*.jade'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'build:html'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n<span class=\"token function\">watch</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./src/*.css'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'build:css'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<!--beforeend--></div><!--afterend--><p>然后执行 <code>node scripts/watch</code> 一切都能运行了！</p>\n<p>最后你可能还是需要把 <code>node scripts/watch</code> 写进 <code>package.json</code>，以后都用 <code>npm run watch</code> 来执行:</p>\n<!--beforebegin--><div class=\"language-JSON extra-class\"><!--afterbegin--><pre v-pre class=\"language-json\"><code><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"watch\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"node scripts/watch\"</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<!--beforeend--></div><!--afterend--></div>\n</template>\n<script>export default { props: ['target'] }</script>","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content\"},[_vm._m(0),_vm._v(\" \"),_c('p',[_vm._v(\"首先我觉得  \"),_c('a',{attrs:{\"href\":\"https://medium.freecodecamp.com/why-i-left-gulp-and-grunt-for-npm-scripts-3d6853dd22b8#.8wsejnq0u\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"Why I Left Gulp and Grunt for npm Scripts\"),_c('OutboundLink')],1),_vm._v(\" 里说的不用 gulp 的理由基本没有道理:\")]),_vm._v(\" \"),_vm._m(1),_vm._v(\" \"),_vm._m(2),_vm._v(\" \"),_vm._m(3),_vm._v(\" \"),_vm._m(4),_vm._v(\" \"),_vm._m(5),_vm._v(\" \"),_c('p',[_vm._v(\"额，难道直接用 npm package 就没有这些问题吗。\")]),_vm._v(\" \"),_vm._m(6),_vm._v(\" \"),_c('p',[_vm._v(\"这不又是废话吗，写个插件还要把用的包的文档重新写一遍?\")]),_vm._v(\" \"),_c('hr'),_vm._v(\" \"),_c('p',[_vm._v(\"好了，原文挑剔 gulp 的理由全被扳倒了，但是其中支持 npm 的理由倒是挺有道理:\")]),_vm._v(\" \"),_vm._m(7),_vm._v(\" \"),_c('p',[_vm._v(\"你并不需要在 npm scripts 里用一些很高深的命令行，很多 unix 命令是需要花很长时间学习的。像类似 rm -rf 之类的命令很容易掌握，而且也有相应的 npm 包 \"),_c('a',{attrs:{\"href\":\"https://github.com/isaacs/rimraf\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"rimraf\"),_c('OutboundLink')],1),_vm._v(\" 让你使用，且跨平台支持。\")]),_vm._v(\" \"),_vm._m(8),_vm._v(\" \"),_vm._m(9),_vm._m(10),_vm._v(\" \"),_c('p',[_vm._v(\"你可以直接执行一个文件来完成相应的构建工作，这让你几乎能做任何 gulp 能做的事:\")]),_vm._v(\" \"),_vm._m(11),_vm._m(12),_vm._v(\" \"),_c('p',[_vm._v(\"因为你可能会在 npm scripts 里用一些 unix 命令，解决方案有很多，比如用 npm 包替代这些命令。\")]),_vm._v(\" \"),_vm._m(13),_vm._v(\" \"),_c('p',[_vm._v(\"gulp tasks 也多了以后会变得很难维护，npm scripts 也是。解决方案是推荐写精简的 script，比如一个 script 只干一件事。或者很长很复杂的话你就需要专门放到一个 JS 文件里然后再在 npm scripts 里调用了。\")]),_vm._v(\" \"),_vm._m(14),_vm._v(\" \"),_vm._m(15),_vm._v(\" \"),_vm._m(16),_vm._v(\" \"),_vm._m(17),_vm._v(\" \"),_vm._m(18),_vm._v(\" \"),_c('p',[_vm._v(\"你的 npm scripts:\")]),_vm._v(\" \"),_vm._m(19),_vm._m(20),_vm._v(\" \"),_vm._m(21),_vm._v(\" \"),_vm._m(22),_vm._m(23),_vm._v(\" \"),_vm._m(24),_vm._m(25),_vm._v(\" \"),_vm._m(26),_vm._v(\" \"),_vm._m(27)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h2',{attrs:{\"id\":\"为什么用-npm-scripts\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#为什么用-npm-scripts\",\"aria-hidden\":\"true\"}},[_vm._v(\"#\")]),_vm._v(\" \"),_c('span',[_vm._v(\"为什么用 npm scripts ?\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ol',[_c('li',[_vm._v(\"gulp 插件质量、数量和实时性\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"作者抱怨 gulp 插件的质量取决于插件作者，这可以理解，\"),_c('strong',[_vm._v(\"但是 npm 的包同样取决于作者啊\")]),_vm._v(\"。\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"作者抱怨 gulp 插件的数量不如 npm，\"),_c('strong',[_vm._v(\"这不是废话吗\")]),_vm._v(\"。\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"作者抱怨 gulp 插件不能及时更新，比如 babel 6 升级了 gulp-babel 并没有立刻升级。\"),_c('strong',[_vm._v(\"又不是看直播，干嘛实时?\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ol',{attrs:{\"start\":\"2\"}},[_c('li',[_vm._v(\"debug 很痛苦，gulp crash 掉是因为某个插件吗还是因为版本问题\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ol',{attrs:{\"start\":\"3\"}},[_c('li',[_vm._v(\"不连贯的文档，比如 gulp-eslint 和 eslint，eslint 的文档就是 gulp 插件的文档好得多\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ol',[_c('li',[_vm._v(\"npm scripts 并不需要你很擅长命令行操作\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ol',{attrs:{\"start\":\"2\"}},[_c('li',[_vm._v(\"npm scripts 不够强大吗?\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"language-JSON extra-class\"},[_c('pre',{pre:true,attrs:{\"class\":\"language-json\"}},[_c('code',[_c('span',{attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"{\")]),_vm._v(\"\\n  \"),_c('span',{attrs:{\"class\":\"token property\"}},[_vm._v(\"\\\"scripts\\\"\")]),_c('span',{attrs:{\"class\":\"token operator\"}},[_vm._v(\":\")]),_vm._v(\" \"),_c('span',{attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"{\")]),_vm._v(\"\\n    \"),_c('span',{attrs:{\"class\":\"token property\"}},[_vm._v(\"\\\"clean\\\"\")]),_c('span',{attrs:{\"class\":\"token operator\"}},[_vm._v(\":\")]),_vm._v(\" \"),_c('span',{attrs:{\"class\":\"token string\"}},[_vm._v(\"\\\"rimraf ./dist && mkdir dist\\\"\")]),_c('span',{attrs:{\"class\":\"token punctuation\"}},[_vm._v(\",\")]),_vm._v(\"\\n    \"),_c('span',{attrs:{\"class\":\"token property\"}},[_vm._v(\"\\\"prebuild\\\"\")]),_c('span',{attrs:{\"class\":\"token operator\"}},[_vm._v(\":\")]),_vm._v(\" \"),_c('span',{attrs:{\"class\":\"token string\"}},[_vm._v(\"\\\"npm run clean\\\"\")]),_c('span',{attrs:{\"class\":\"token punctuation\"}},[_vm._v(\",\")]),_vm._v(\"\\n    \"),_c('span',{attrs:{\"class\":\"token property\"}},[_vm._v(\"\\\"build\\\"\")]),_c('span',{attrs:{\"class\":\"token operator\"}},[_vm._v(\":\")]),_vm._v(\" \"),_c('span',{attrs:{\"class\":\"token string\"}},[_vm._v(\"\\\"cross-env NODE_ENV=production webpack\\\"\")]),_vm._v(\"\\n  \"),_c('span',{attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"}\")]),_vm._v(\"\\n\"),_c('span',{attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"}\")]),_vm._v(\"\\n\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"npm scripts 甚至支持 \"),_c('code',[_vm._v(\"pre\")]),_vm._v(\" \"),_c('code',[_vm._v(\"post\")]),_vm._v(\" 这些 hook 让你在相应的一个 task 之前和之后调用。\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"language-JSON extra-class\"},[_c('pre',{pre:true,attrs:{\"class\":\"language-json\"}},[_c('code',[_c('span',{attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"{\")]),_vm._v(\"\\n  \"),_c('span',{attrs:{\"class\":\"token property\"}},[_vm._v(\"\\\"scripts\\\"\")]),_c('span',{attrs:{\"class\":\"token operator\"}},[_vm._v(\":\")]),_vm._v(\" \"),_c('span',{attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"{\")]),_vm._v(\"\\n    \"),_c('span',{attrs:{\"class\":\"token property\"}},[_vm._v(\"\\\"build\\\"\")]),_c('span',{attrs:{\"class\":\"token operator\"}},[_vm._v(\":\")]),_vm._v(\" \"),_c('span',{attrs:{\"class\":\"token string\"}},[_vm._v(\"\\\"node build.js\\\"\")]),_vm._v(\"\\n  \"),_c('span',{attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"}\")]),_vm._v(\"\\n\"),_c('span',{attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"}\")]),_vm._v(\"\\n\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ol',{attrs:{\"start\":\"3\"}},[_c('li',[_vm._v(\"npm scripts 不是跨平台的\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ol',{attrs:{\"start\":\"4\"}},[_c('li',[_vm._v(\"可维护性\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h2',{attrs:{\"id\":\"nswatch\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#nswatch\",\"aria-hidden\":\"true\"}},[_vm._v(\"#\")]),_vm._v(\" \"),_c('span',[_vm._v(\"nswatch\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('blockquote',[_c('p',[_vm._v(\"https://github.com/egoist/nswatch\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"在 npm scripts 里只执行一个构建任务你可能不需要类似 \"),_c('code',[_vm._v(\"gulp.watch\")]),_vm._v(\" 这样的功能，因为大部分构建工具都自带了 watch 功能，比如 \"),_c('code',[_vm._v(\"webpack --watch\")]),_vm._v(\" 和 \"),_c('code',[_vm._v(\"rollup --watch\")]),_vm._v(\"，但是排除这种情况在构建多个任务的时候就不方便了。\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"比如你要同时用一些 \"),_c('code',[_vm._v(\".jade\")]),_vm._v(\" \"),_c('code',[_vm._v(\".css\")]),_vm._v(\" \"),_c('code',[_vm._v(\".js\")]),_vm._v(\" 这些文件分别编译成 \"),_c('code',[_vm._v(\".html\")]),_vm._v(\" \"),_c('code',[_vm._v(\".css\")]),_vm._v(\" \"),_c('code',[_vm._v(\".js\")]),_vm._v(\" 文件，开发的时候怎么搞啊，怎么 watch 这些文件然后执行 rebuild 呢？好吧，你又想到了 \"),_c('code',[_vm._v(\"gulp\")]),_vm._v(\" 😂\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"不过现在有 \"),_c('code',[_vm._v(\"nswatch\")]),_vm._v(\" 了，为了解决类似的需求我今早洗澡之后写的。和 \"),_c('code',[_vm._v(\"gulp.watch\")]),_vm._v(\" 类似，监听一些文件，不过这里是执行相应的 npm script。\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"language-JSON extra-class\"},[_c('pre',{pre:true,attrs:{\"class\":\"language-json\"}},[_c('code',[_c('span',{attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"{\")]),_vm._v(\"\\n  \"),_c('span',{attrs:{\"class\":\"token property\"}},[_vm._v(\"\\\"scripts\\\"\")]),_c('span',{attrs:{\"class\":\"token operator\"}},[_vm._v(\":\")]),_vm._v(\" \"),_c('span',{attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"{\")]),_vm._v(\"\\n    \"),_c('span',{attrs:{\"class\":\"token property\"}},[_vm._v(\"\\\"build:js\\\"\")]),_c('span',{attrs:{\"class\":\"token operator\"}},[_vm._v(\":\")]),_vm._v(\" \"),_c('span',{attrs:{\"class\":\"token string\"}},[_vm._v(\"\\\"node scripts/build js\\\"\")]),_c('span',{attrs:{\"class\":\"token punctuation\"}},[_vm._v(\",\")]),_vm._v(\"\\n    \"),_c('span',{attrs:{\"class\":\"token property\"}},[_vm._v(\"\\\"build:html\\\"\")]),_c('span',{attrs:{\"class\":\"token operator\"}},[_vm._v(\":\")]),_vm._v(\" \"),_c('span',{attrs:{\"class\":\"token string\"}},[_vm._v(\"\\\"node script/build html\\\"\")]),_c('span',{attrs:{\"class\":\"token punctuation\"}},[_vm._v(\",\")]),_vm._v(\"\\n    \"),_c('span',{attrs:{\"class\":\"token property\"}},[_vm._v(\"\\\"build:css\\\"\")]),_c('span',{attrs:{\"class\":\"token operator\"}},[_vm._v(\":\")]),_vm._v(\" \"),_c('span',{attrs:{\"class\":\"token string\"}},[_vm._v(\"\\\"node scripts/build css\\\"\")]),_vm._v(\"\\n  \"),_c('span',{attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"}\")]),_vm._v(\"\\n\"),_c('span',{attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"}\")]),_vm._v(\"\\n\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"然后你可以在 \"),_c('code',[_vm._v(\"scripts/build.js\")]),_vm._v(\" 里用你喜欢的 npm 包，比如 rollup, jade, postcss，来编译相应文件。\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"最后添加 \"),_c('code',[_vm._v(\"nswatch\")]),_vm._v(\":\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"language-JSON extra-class\"},[_c('pre',{pre:true,attrs:{\"class\":\"language-json\"}},[_c('code',[_c('span',{attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"{\")]),_vm._v(\"\\n  \"),_c('span',{attrs:{\"class\":\"token property\"}},[_vm._v(\"\\\"scripts\\\"\")]),_c('span',{attrs:{\"class\":\"token operator\"}},[_vm._v(\":\")]),_vm._v(\" \"),_c('span',{attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"{\")]),_vm._v(\"\\n    \"),_c('span',{attrs:{\"class\":\"token property\"}},[_vm._v(\"\\\"watch\\\"\")]),_c('span',{attrs:{\"class\":\"token operator\"}},[_vm._v(\":\")]),_vm._v(\" \"),_c('span',{attrs:{\"class\":\"token string\"}},[_vm._v(\"\\\"nswatch src/*.js --script build:js & nswatch src/*.css --script build:css  & nswatch src/*.jade --script build:html \\\"\")]),_vm._v(\"\\n  \"),_c('span',{attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"}\")]),_vm._v(\"\\n\"),_c('span',{attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"}\")]),_vm._v(\"\\n\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"由于有三个任务所以写得很长，你可以把它放进单独文件 \"),_c('code',[_vm._v(\"scripts/watch.js\")]),_vm._v(\":\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"language-JavaScript extra-class\"},[_c('pre',{pre:true,attrs:{\"class\":\"language-javascript\"}},[_c('code',[_c('span',{attrs:{\"class\":\"token keyword\"}},[_vm._v(\"const\")]),_vm._v(\" watch \"),_c('span',{attrs:{\"class\":\"token operator\"}},[_vm._v(\"=\")]),_vm._v(\" \"),_c('span',{attrs:{\"class\":\"token function\"}},[_vm._v(\"require\")]),_c('span',{attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_c('span',{attrs:{\"class\":\"token string\"}},[_vm._v(\"'nswatch'\")]),_c('span',{attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_vm._v(\"\\n\\n\"),_c('span',{attrs:{\"class\":\"token function\"}},[_vm._v(\"watch\")]),_c('span',{attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_c('span',{attrs:{\"class\":\"token string\"}},[_vm._v(\"'./src/*.js'\")]),_c('span',{attrs:{\"class\":\"token punctuation\"}},[_vm._v(\",\")]),_vm._v(\" \"),_c('span',{attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"[\")]),_c('span',{attrs:{\"class\":\"token string\"}},[_vm._v(\"'build:js'\")]),_c('span',{attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"]\")]),_c('span',{attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_vm._v(\"\\n\"),_c('span',{attrs:{\"class\":\"token function\"}},[_vm._v(\"watch\")]),_c('span',{attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_c('span',{attrs:{\"class\":\"token string\"}},[_vm._v(\"'./src/*.jade'\")]),_c('span',{attrs:{\"class\":\"token punctuation\"}},[_vm._v(\",\")]),_vm._v(\" \"),_c('span',{attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"[\")]),_c('span',{attrs:{\"class\":\"token string\"}},[_vm._v(\"'build:html'\")]),_c('span',{attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"]\")]),_c('span',{attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_vm._v(\"\\n\"),_c('span',{attrs:{\"class\":\"token function\"}},[_vm._v(\"watch\")]),_c('span',{attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_c('span',{attrs:{\"class\":\"token string\"}},[_vm._v(\"'./src/*.css'\")]),_c('span',{attrs:{\"class\":\"token punctuation\"}},[_vm._v(\",\")]),_vm._v(\" \"),_c('span',{attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"[\")]),_c('span',{attrs:{\"class\":\"token string\"}},[_vm._v(\"'build:css'\")]),_c('span',{attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"]\")]),_c('span',{attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_vm._v(\"\\n\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"然后执行 \"),_c('code',[_vm._v(\"node scripts/watch\")]),_vm._v(\" 一切都能运行了！\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"最后你可能还是需要把 \"),_c('code',[_vm._v(\"node scripts/watch\")]),_vm._v(\" 写进 \"),_c('code',[_vm._v(\"package.json\")]),_vm._v(\"，以后都用 \"),_c('code',[_vm._v(\"npm run watch\")]),_vm._v(\" 来执行:\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"language-JSON extra-class\"},[_c('pre',{pre:true,attrs:{\"class\":\"language-json\"}},[_c('code',[_c('span',{attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"{\")]),_vm._v(\"\\n  \"),_c('span',{attrs:{\"class\":\"token property\"}},[_vm._v(\"\\\"scripts\\\"\")]),_c('span',{attrs:{\"class\":\"token operator\"}},[_vm._v(\":\")]),_vm._v(\" \"),_c('span',{attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"{\")]),_vm._v(\"\\n    \"),_c('span',{attrs:{\"class\":\"token property\"}},[_vm._v(\"\\\"watch\\\"\")]),_c('span',{attrs:{\"class\":\"token operator\"}},[_vm._v(\":\")]),_vm._v(\" \"),_c('span',{attrs:{\"class\":\"token string\"}},[_vm._v(\"\\\"node scripts/watch\\\"\")]),_vm._v(\"\\n  \"),_c('span',{attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"}\")]),_vm._v(\"\\n\"),_c('span',{attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"}\")]),_vm._v(\"\\n\")])])])}]\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./kill-gulp-with-npm-scripts-and-nswatch.md?vue&type=template&id=2a1a051e&\"\nimport script from \"./kill-gulp-with-npm-scripts-and-nswatch.md?vue&type=script&lang=js&\"\nexport * from \"./kill-gulp-with-npm-scripts-and-nswatch.md?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--3-0!../../../../node_modules/babel-loader/lib/index.js??ref--3-1!../../../../node_modules/vue-loader/lib/index.js??ref--1-1!../../../@vuepress/core/lib/webpack/markdownLoader.js??ref--1-2!./kill-gulp-with-npm-scripts-and-nswatch.md?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--3-0!../../../../node_modules/babel-loader/lib/index.js??ref--3-1!../../../../node_modules/vue-loader/lib/index.js??ref--1-1!../../../@vuepress/core/lib/webpack/markdownLoader.js??ref--1-2!./kill-gulp-with-npm-scripts-and-nswatch.md?vue&type=script&lang=js&\""],"sourceRoot":""}