{"version":3,"sources":["webpack:///source/_posts/deploy-node-app.md","webpack:///./source/_posts/deploy-node-app.md?075d","webpack:///./source/_posts/deploy-node-app.md","webpack:///./source/_posts/deploy-node-app.md?4878"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6DA;AAAA;AAAA,G;;;;;;;;;;;;;;AC7DA;AAAA,0BAA0B,aAAa,0BAA0B,wBAAwB,iBAAiB,sBAAsB,iXAAiX,OAAO,yFAAyF,6EAA6E,OAAO,uFAAuF,uzBAAuzB,OAAO,2HAA2H,mJAAmJ,OAAO,gHAAgH,mIAAmI,OAAO,yGAAyG,qHAAqH,OAAO,qHAAqH,iJAAiJ,OAAO,kJAAkJ,qHAAqH,OAAO,mHAAmH,kGAAkG,OAAO,2KAA2K,oIAAoI,OAAO,4GAA4G;AACv8G,oCAAoC,aAAa,0BAA0B,wBAAwB,gBAAgB,OAAO,aAAa,UAAU,mCAAmC,qCAAqC,0DAA0D,cAAc,aAAa,0BAA0B,wBAAwB,oLAAoL,cAAc,aAAa,0BAA0B,wBAAwB,gBAAgB,OAAO,0BAA0B,UAAU,mCAAmC,kDAAkD,+CAA+C,cAAc,aAAa,0BAA0B,wBAAwB,iBAAiB,wCAAwC,YAAY,gBAAgB,yBAAyB,qCAAqC,OAAO,0BAA0B,mEAAmE,OAAO,0BAA0B,6DAA6D,OAAO,0BAA0B,iDAAiD,cAAc,aAAa,0BAA0B,wBAAwB,gBAAgB,OAAO,cAAc,UAAU,mCAAmC,sCAAsC,mCAAmC,cAAc,aAAa,0BAA0B,wBAAwB,2LAA2L,cAAc,aAAa,0BAA0B,wBAAwB,iBAAiB,wCAAwC,YAAY,gBAAgB,yBAAyB,qCAAqC,OAAO,0BAA0B,+CAA+C,OAAO,yBAAyB,oDAAoD,OAAO,0BAA0B,yCAAyC,OAAO,0BAA0B,qDAAqD,OAAO,yBAAyB,8CAA8C,cAAc,aAAa,0BAA0B,wBAAwB,iBAAiB,wCAAwC,YAAY,gBAAgB,yBAAyB,wBAAwB,OAAO,mCAAmC,gDAAgD,OAAO,0BAA0B,oDAAoD,OAAO,0BAA0B,mEAAmE,OAAO,0BAA0B,qEAAqE,OAAO,0BAA0B,6DAA6D,OAAO,0BAA0B,yCAAyC,OAAO,0BAA0B,8CAA8C,OAAO,yBAAyB,iEAAiE,cAAc,aAAa,0BAA0B,wBAAwB,iBAAiB,wCAAwC,YAAY,gBAAgB,yBAAyB,qCAAqC,OAAO,0BAA0B,uDAAuD,cAAc,aAAa,0BAA0B,wBAAwB,gBAAgB,OAAO,aAAa,UAAU,mCAAmC,qCAAqC,kCAAkC,cAAc,aAAa,0BAA0B,wBAAwB,iBAAiB,wCAAwC,YAAY,gBAAgB,yBAAyB,qCAAqC,OAAO,yBAAyB,sCAAsC,cAAc,aAAa,0BAA0B,wBAAwB,iBAAiB,wCAAwC,YAAY,gBAAgB,yBAAyB,qCAAqC,OAAO,0BAA0B,kGAAkG,cAAc,aAAa,0BAA0B,wBAAwB,iBAAiB,wCAAwC,YAAY,gBAAgB,yBAAyB,qCAAqC,OAAO,0BAA0B,mDAAmD,OAAO,0BAA0B,mDAAmD,OAAO,wBAAwB,6DAA6D,OAAO,0BAA0B,wDAAwD,cAAc,aAAa,0BAA0B,wBAAwB,wGAAwG,cAAc,aAAa,0BAA0B,wBAAwB,gBAAgB,OAAO,mBAAmB,UAAU,mCAAmC,2CAA2C,gEAAgE,cAAc,aAAa,0BAA0B,wBAAwB,gBAAgB,OAAO,aAAa,UAAU,mCAAmC,qCAAqC,0DAA0D;;;;;;;;;;;;;;;;;;ACD5pL;AAClC;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,gF;;;;;;;;;;;;;;wCClBsT,oVAAoB,C","file":"assets/js/20.de6fda8a.js","sourcesContent":["<template>\n<div class=\"content\"><p>当你熟悉 Node.js 之后很可能会自己写些小东西放在 VPS 上跑，比如说一个个人的 API 服务，或者是你的网站。这篇文章分享的内容不管你的 app 大小，都相对适用，因为我们的原则是「run it forever and deploy it smartly」。</p>\n<h2 id=\"上传代码\"><a class=\"header-anchor\" href=\"#上传代码\" aria-hidden=\"true\">#</a> <span>上传代码</span></h2>\n<p>首先你需要的是把你的 app 代码从本地上传到 VPS，我们不可能用上个世纪的 ftp 方式上传。我们开发的时候用 git 同步本地仓库和远程仓库的代码，你一定有屡试不爽的感觉，同理，这里我们也将使用 git 来操作。</p>\n<p>以下内容都可以用 <a href=\"https://github.com/yyx990803/pod\" target=\"_blank\" rel=\"noopener noreferrer\">pod<OutboundLink/></a> 这个工具来代替，不过相应的你需要用 <a href=\"https://github.com/Unitech/pm2\" target=\"_blank\" rel=\"noopener noreferrer\">PM2<OutboundLink/></a> 来管理进程。而这里是个相对 general case。</p>\n<p>首先我们确认一下：</p>\n<ul>\n<li><code>/var/repo</code> - 这是 VPS 上存储 git repo 的目录</li>\n<li><code>/var/www</code> - 这是 VPS 的网站目录</li>\n</ul>\n<h3 id=\"在-vps-上创建一个空-repo\"><a class=\"header-anchor\" href=\"#在-vps-上创建一个空-repo\" aria-hidden=\"true\">#</a> 在 VPS 上创建一个空 repo</h3>\n<!--beforebegin--><div class=\"language-bash extra-class\"><!--afterbegin--><pre v-pre class=\"language-bash\"><code>$ <span class=\"token function\">mkdir</span> -p /var/repo/app.git\n$ <span class=\"token function\">cd</span> /var/repo/app.git\n$ <span class=\"token function\">git</span> init --bare\n</code></pre>\n<!--beforeend--></div><!--afterend--><p>现在你就拥有了一个只存在版本管理功能，不包含任何 app 源文件的 git 仓库。</p>\n<h3 id=\"部署的钩子\"><a class=\"header-anchor\" href=\"#部署的钩子\" aria-hidden=\"true\">#</a> 部署的钩子</h3>\n<p>你需要一个钩子 <code>git hook</code>，也就是在每次本地 git push 之后让它自动把上传的文件拷贝到你的网站目录中。这里我们使用 git 内置的 <code>post-receive</code> 钩子：</p>\n<!--beforebegin--><div class=\"language-bash extra-class\"><!--afterbegin--><pre v-pre class=\"language-bash\"><code>$ <span class=\"token function\">cd</span> hooks\n<span class=\"token comment\"># 写入内容到这个文件</span>\n$ <span class=\"token function\">cat</span> <span class=\"token operator\">></span> post-receive\n<span class=\"token comment\"># 回车，输入如下内容：</span>\n</code></pre>\n<!--beforeend--></div><!--afterend--><!--beforebegin--><div class=\"language-bash extra-class\"><!--afterbegin--><pre v-pre class=\"language-bash\"><code><span class=\"token shebang important\">#!/bin/sh</span>\n<span class=\"token function\">git</span> --work-tree<span class=\"token operator\">=</span>/var/www/domain.com --git-dir<span class=\"token operator\">=</span>/var/repo/app.git checkout -f\n<span class=\"token function\">cd</span> /var/www/domain.com\n<span class=\"token function\">npm</span> <span class=\"token function\">install</span>\n<span class=\"token comment\"># 这里还可以加一些构建脚本，比如 npm run build</span>\n</code></pre>\n<!--beforeend--></div><!--afterend--><p>最后，按下 Ctrl+D 来确认保存。</p>\n<p>为了让你有权限执行这个文件，你需要:</p>\n<!--beforebegin--><div class=\"language-bash extra-class\"><!--afterbegin--><pre v-pre class=\"language-bash\"><code>$ <span class=\"token function\">chmod</span> +x post-receive\n</code></pre>\n<!--beforeend--></div><!--afterend--><h3 id=\"本地配置\"><a class=\"header-anchor\" href=\"#本地配置\" aria-hidden=\"true\">#</a> 本地配置</h3>\n<p>退出 VPS：</p>\n<!--beforebegin--><div class=\"language-bash extra-class\"><!--afterbegin--><pre v-pre class=\"language-bash\"><code>$ <span class=\"token keyword\">exit</span>\n</code></pre>\n<!--beforeend--></div><!--afterend--><p>在你的 app 目录里执行：</p>\n<!--beforebegin--><div class=\"language-bash extra-class\"><!--afterbegin--><pre v-pre class=\"language-bash\"><code>$ <span class=\"token function\">git</span> remote add server ssh://user@yourdomain.com/var/repo/app.git\n</code></pre>\n<!--beforeend--></div><!--afterend--><p>哇哦，搞定了。试着将你的 web app 发布吧，就是简单地提交而已：</p>\n<!--beforebegin--><div class=\"language-bash extra-class\"><!--afterbegin--><pre v-pre class=\"language-bash\"><code>$ <span class=\"token function\">git</span> add -A\n$ <span class=\"token function\">git</span> commit -m <span class=\"token string\">\"deploy to server\"</span>\n$ <span class=\"token function\">git</span> push server master\n</code></pre>\n<!--beforeend--></div><!--afterend--><p>然后检查一下 <code>/var/www/domain.com</code> 吧，你的代码都被同步过去了。</p>\n<h2 id=\"持久运行你的-app\"><a class=\"header-anchor\" href=\"#持久运行你的-app\" aria-hidden=\"true\">#</a> <span>持久运行你的 app</span></h2>\n<p>你需要持久化运行你的 app，因为它很可能在高峰时段 crash 掉，同时你也希望在系统重启之后你的 app 也能自动重启。</p>\n<p>你大可参考 <a href=\"http://support.ghost.org/deploying-ghost/#making-ghost-run-forever\" target=\"_blank\" rel=\"noopener noreferrer\">Ghost 部署指南<OutboundLink/></a> 来达到这个目的。非常完整，我就不再赘述，不过我推荐使用 Supervisor。</p>\n<p>你也可以考虑使用 <a href=\"https://nodejs.org/en/docs/guides/nodejs-docker-webapp/\" target=\"_blank\" rel=\"noopener noreferrer\">docker<OutboundLink/></a> 这个更现代(?)的解决方案。</p>\n<h2 id=\"延伸阅读\"><a class=\"header-anchor\" href=\"#延伸阅读\" aria-hidden=\"true\">#</a> <span>延伸阅读</span></h2>\n<ul>\n<li><a href=\"https://certsimple.com/blog/deploy-node-on-linux\" target=\"_blank\" rel=\"noopener noreferrer\">How to deploy your node app on Linux, 2016 edition<OutboundLink/></a></li>\n<li><a href=\"https://www.terlici.com/2015/06/20/running-node-forever.html\" target=\"_blank\" rel=\"noopener noreferrer\">Running your Node &amp; Express apps forever, no matter what, with Systemd and PM2<OutboundLink/></a></li>\n<li><a href=\"http://serverfault.com/questions/191331/should-servers-have-their-timezone-set-to-gmt-utc\" target=\"_blank\" rel=\"noopener noreferrer\">Should servers have their timezone set to GMT/UTC?<OutboundLink/></a></li>\n<li><a href=\"https://blog.risingstack.com/operating-node-in-production/\" target=\"_blank\" rel=\"noopener noreferrer\">Operating Node.js in Production<OutboundLink/></a></li>\n<li><a href=\"https://www.digitalocean.com/community/tutorials/how-to-use-haproxy-to-set-up-http-load-balancing-on-an-ubuntu-vps\" target=\"_blank\" rel=\"noopener noreferrer\">How To Use HAProxy to Set Up HTTP Load Balancing on an Ubuntu VPS<OutboundLink/></a></li>\n<li><a href=\"https://blog.risingstack.com/node-js-security-tips/\" target=\"_blank\" rel=\"noopener noreferrer\">Node.js Security Tips<OutboundLink/></a></li>\n</ul>\n</div>\n</template>\n<script>export default { props: ['target'] }</script>","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content\"},[_c('p',[_vm._v(\"当你熟悉 Node.js 之后很可能会自己写些小东西放在 VPS 上跑，比如说一个个人的 API 服务，或者是你的网站。这篇文章分享的内容不管你的 app 大小，都相对适用，因为我们的原则是「run it forever and deploy it smartly」。\")]),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),_c('p',[_vm._v(\"首先你需要的是把你的 app 代码从本地上传到 VPS，我们不可能用上个世纪的 ftp 方式上传。我们开发的时候用 git 同步本地仓库和远程仓库的代码，你一定有屡试不爽的感觉，同理，这里我们也将使用 git 来操作。\")]),_vm._v(\" \"),_c('p',[_vm._v(\"以下内容都可以用 \"),_c('a',{attrs:{\"href\":\"https://github.com/yyx990803/pod\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"pod\"),_c('OutboundLink')],1),_vm._v(\" 这个工具来代替，不过相应的你需要用 \"),_c('a',{attrs:{\"href\":\"https://github.com/Unitech/pm2\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"PM2\"),_c('OutboundLink')],1),_vm._v(\" 来管理进程。而这里是个相对 general case。\")]),_vm._v(\" \"),_c('p',[_vm._v(\"首先我们确认一下：\")]),_vm._v(\" \"),_vm._m(1),_vm._v(\" \"),_vm._m(2),_vm._v(\" \"),_vm._m(3),_c('p',[_vm._v(\"现在你就拥有了一个只存在版本管理功能，不包含任何 app 源文件的 git 仓库。\")]),_vm._v(\" \"),_vm._m(4),_vm._v(\" \"),_vm._m(5),_vm._v(\" \"),_vm._m(6),_vm._m(7),_c('p',[_vm._v(\"最后，按下 Ctrl+D 来确认保存。\")]),_vm._v(\" \"),_c('p',[_vm._v(\"为了让你有权限执行这个文件，你需要:\")]),_vm._v(\" \"),_vm._m(8),_vm._m(9),_vm._v(\" \"),_c('p',[_vm._v(\"退出 VPS：\")]),_vm._v(\" \"),_vm._m(10),_c('p',[_vm._v(\"在你的 app 目录里执行：\")]),_vm._v(\" \"),_vm._m(11),_c('p',[_vm._v(\"哇哦，搞定了。试着将你的 web app 发布吧，就是简单地提交而已：\")]),_vm._v(\" \"),_vm._m(12),_vm._m(13),_vm._v(\" \"),_vm._m(14),_vm._v(\" \"),_c('p',[_vm._v(\"你需要持久化运行你的 app，因为它很可能在高峰时段 crash 掉，同时你也希望在系统重启之后你的 app 也能自动重启。\")]),_vm._v(\" \"),_c('p',[_vm._v(\"你大可参考 \"),_c('a',{attrs:{\"href\":\"http://support.ghost.org/deploying-ghost/#making-ghost-run-forever\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"Ghost 部署指南\"),_c('OutboundLink')],1),_vm._v(\" 来达到这个目的。非常完整，我就不再赘述，不过我推荐使用 Supervisor。\")]),_vm._v(\" \"),_c('p',[_vm._v(\"你也可以考虑使用 \"),_c('a',{attrs:{\"href\":\"https://nodejs.org/en/docs/guides/nodejs-docker-webapp/\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"docker\"),_c('OutboundLink')],1),_vm._v(\" 这个更现代(?)的解决方案。\")]),_vm._v(\" \"),_vm._m(15),_vm._v(\" \"),_c('ul',[_c('li',[_c('a',{attrs:{\"href\":\"https://certsimple.com/blog/deploy-node-on-linux\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"How to deploy your node app on Linux, 2016 edition\"),_c('OutboundLink')],1)]),_vm._v(\" \"),_c('li',[_c('a',{attrs:{\"href\":\"https://www.terlici.com/2015/06/20/running-node-forever.html\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"Running your Node & Express apps forever, no matter what, with Systemd and PM2\"),_c('OutboundLink')],1)]),_vm._v(\" \"),_c('li',[_c('a',{attrs:{\"href\":\"http://serverfault.com/questions/191331/should-servers-have-their-timezone-set-to-gmt-utc\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"Should servers have their timezone set to GMT/UTC?\"),_c('OutboundLink')],1)]),_vm._v(\" \"),_c('li',[_c('a',{attrs:{\"href\":\"https://blog.risingstack.com/operating-node-in-production/\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"Operating Node.js in Production\"),_c('OutboundLink')],1)]),_vm._v(\" \"),_c('li',[_c('a',{attrs:{\"href\":\"https://www.digitalocean.com/community/tutorials/how-to-use-haproxy-to-set-up-http-load-balancing-on-an-ubuntu-vps\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"How To Use HAProxy to Set Up HTTP Load Balancing on an Ubuntu VPS\"),_c('OutboundLink')],1)]),_vm._v(\" \"),_c('li',[_c('a',{attrs:{\"href\":\"https://blog.risingstack.com/node-js-security-tips/\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"Node.js Security Tips\"),_c('OutboundLink')],1)])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h2',{attrs:{\"id\":\"上传代码\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#上传代码\",\"aria-hidden\":\"true\"}},[_vm._v(\"#\")]),_vm._v(\" \"),_c('span',[_vm._v(\"上传代码\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',[_c('li',[_c('code',[_vm._v(\"/var/repo\")]),_vm._v(\" - 这是 VPS 上存储 git repo 的目录\")]),_vm._v(\" \"),_c('li',[_c('code',[_vm._v(\"/var/www\")]),_vm._v(\" - 这是 VPS 的网站目录\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h3',{attrs:{\"id\":\"在-vps-上创建一个空-repo\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#在-vps-上创建一个空-repo\",\"aria-hidden\":\"true\"}},[_vm._v(\"#\")]),_vm._v(\" 在 VPS 上创建一个空 repo\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"language-bash extra-class\"},[_c('pre',{pre:true,attrs:{\"class\":\"language-bash\"}},[_c('code',[_vm._v(\"$ \"),_c('span',{attrs:{\"class\":\"token function\"}},[_vm._v(\"mkdir\")]),_vm._v(\" -p /var/repo/app.git\\n$ \"),_c('span',{attrs:{\"class\":\"token function\"}},[_vm._v(\"cd\")]),_vm._v(\" /var/repo/app.git\\n$ \"),_c('span',{attrs:{\"class\":\"token function\"}},[_vm._v(\"git\")]),_vm._v(\" init --bare\\n\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h3',{attrs:{\"id\":\"部署的钩子\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#部署的钩子\",\"aria-hidden\":\"true\"}},[_vm._v(\"#\")]),_vm._v(\" 部署的钩子\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"你需要一个钩子 \"),_c('code',[_vm._v(\"git hook\")]),_vm._v(\"，也就是在每次本地 git push 之后让它自动把上传的文件拷贝到你的网站目录中。这里我们使用 git 内置的 \"),_c('code',[_vm._v(\"post-receive\")]),_vm._v(\" 钩子：\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"language-bash extra-class\"},[_c('pre',{pre:true,attrs:{\"class\":\"language-bash\"}},[_c('code',[_vm._v(\"$ \"),_c('span',{attrs:{\"class\":\"token function\"}},[_vm._v(\"cd\")]),_vm._v(\" hooks\\n\"),_c('span',{attrs:{\"class\":\"token comment\"}},[_vm._v(\"# 写入内容到这个文件\")]),_vm._v(\"\\n$ \"),_c('span',{attrs:{\"class\":\"token function\"}},[_vm._v(\"cat\")]),_vm._v(\" \"),_c('span',{attrs:{\"class\":\"token operator\"}},[_vm._v(\">\")]),_vm._v(\" post-receive\\n\"),_c('span',{attrs:{\"class\":\"token comment\"}},[_vm._v(\"# 回车，输入如下内容：\")]),_vm._v(\"\\n\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"language-bash extra-class\"},[_c('pre',{pre:true,attrs:{\"class\":\"language-bash\"}},[_c('code',[_c('span',{attrs:{\"class\":\"token shebang important\"}},[_vm._v(\"#!/bin/sh\")]),_vm._v(\"\\n\"),_c('span',{attrs:{\"class\":\"token function\"}},[_vm._v(\"git\")]),_vm._v(\" --work-tree\"),_c('span',{attrs:{\"class\":\"token operator\"}},[_vm._v(\"=\")]),_vm._v(\"/var/www/domain.com --git-dir\"),_c('span',{attrs:{\"class\":\"token operator\"}},[_vm._v(\"=\")]),_vm._v(\"/var/repo/app.git checkout -f\\n\"),_c('span',{attrs:{\"class\":\"token function\"}},[_vm._v(\"cd\")]),_vm._v(\" /var/www/domain.com\\n\"),_c('span',{attrs:{\"class\":\"token function\"}},[_vm._v(\"npm\")]),_vm._v(\" \"),_c('span',{attrs:{\"class\":\"token function\"}},[_vm._v(\"install\")]),_vm._v(\"\\n\"),_c('span',{attrs:{\"class\":\"token comment\"}},[_vm._v(\"# 这里还可以加一些构建脚本，比如 npm run build\")]),_vm._v(\"\\n\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"language-bash extra-class\"},[_c('pre',{pre:true,attrs:{\"class\":\"language-bash\"}},[_c('code',[_vm._v(\"$ \"),_c('span',{attrs:{\"class\":\"token function\"}},[_vm._v(\"chmod\")]),_vm._v(\" +x post-receive\\n\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h3',{attrs:{\"id\":\"本地配置\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#本地配置\",\"aria-hidden\":\"true\"}},[_vm._v(\"#\")]),_vm._v(\" 本地配置\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"language-bash extra-class\"},[_c('pre',{pre:true,attrs:{\"class\":\"language-bash\"}},[_c('code',[_vm._v(\"$ \"),_c('span',{attrs:{\"class\":\"token keyword\"}},[_vm._v(\"exit\")]),_vm._v(\"\\n\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"language-bash extra-class\"},[_c('pre',{pre:true,attrs:{\"class\":\"language-bash\"}},[_c('code',[_vm._v(\"$ \"),_c('span',{attrs:{\"class\":\"token function\"}},[_vm._v(\"git\")]),_vm._v(\" remote add server ssh://user@yourdomain.com/var/repo/app.git\\n\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"language-bash extra-class\"},[_c('pre',{pre:true,attrs:{\"class\":\"language-bash\"}},[_c('code',[_vm._v(\"$ \"),_c('span',{attrs:{\"class\":\"token function\"}},[_vm._v(\"git\")]),_vm._v(\" add -A\\n$ \"),_c('span',{attrs:{\"class\":\"token function\"}},[_vm._v(\"git\")]),_vm._v(\" commit -m \"),_c('span',{attrs:{\"class\":\"token string\"}},[_vm._v(\"\\\"deploy to server\\\"\")]),_vm._v(\"\\n$ \"),_c('span',{attrs:{\"class\":\"token function\"}},[_vm._v(\"git\")]),_vm._v(\" push server master\\n\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"然后检查一下 \"),_c('code',[_vm._v(\"/var/www/domain.com\")]),_vm._v(\" 吧，你的代码都被同步过去了。\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h2',{attrs:{\"id\":\"持久运行你的-app\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#持久运行你的-app\",\"aria-hidden\":\"true\"}},[_vm._v(\"#\")]),_vm._v(\" \"),_c('span',[_vm._v(\"持久运行你的 app\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h2',{attrs:{\"id\":\"延伸阅读\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#延伸阅读\",\"aria-hidden\":\"true\"}},[_vm._v(\"#\")]),_vm._v(\" \"),_c('span',[_vm._v(\"延伸阅读\")])])}]\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./deploy-node-app.md?vue&type=template&id=078a8db6&\"\nimport script from \"./deploy-node-app.md?vue&type=script&lang=js&\"\nexport * from \"./deploy-node-app.md?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--3-0!../../../../node_modules/babel-loader/lib/index.js??ref--3-1!../../../../node_modules/vue-loader/lib/index.js??ref--1-1!../../../@vuepress/core/lib/webpack/markdownLoader.js??ref--1-2!./deploy-node-app.md?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--3-0!../../../../node_modules/babel-loader/lib/index.js??ref--3-1!../../../../node_modules/vue-loader/lib/index.js??ref--1-1!../../../@vuepress/core/lib/webpack/markdownLoader.js??ref--1-2!./deploy-node-app.md?vue&type=script&lang=js&\""],"sourceRoot":""}